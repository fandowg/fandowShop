{"version":3,"sources":["webpack:///./src/views/OrderInfo.vue?d646","webpack:///src/views/OrderInfo.vue","webpack:///./src/views/OrderInfo.vue?2cf4","webpack:///./src/views/OrderInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","_l","cart","item","key","id","attrs","product","imageUrl","_s","title","qty","unit","_f","final_total","total","_e","scopedSlots","_u","fn","ref","handleSubmit","invalid","failed","passed","errors","directives","name","rawName","value","user","expression","class","domProps","on","$event","target","composing","$set","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","city","multiple","area","addressText","message","createOrder","staticRenderFns","data","postal","areaArray","watch","currentArea","children","address","carts","length","$router","go","computed","methods","$store","commit","$http","post","url","response","success","params","orderId","beforeRouteLeave","to","$modal","show","text","buttons","next","component"],"mappings":"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","file":"js/chunk-b4fb4992.8831aa82.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog'),_c('h2',{staticClass:\"page__title--sm\"},[_vm._v(\"商品明細\")]),_c('div',{staticClass:\"cart no-delete\"},[_vm._m(0),_c('div',{staticClass:\"cart__list\"},_vm._l((_vm.cart.carts),function(item){return _c('div',{key:item.id,staticClass:\"cart__row bag-row no-gutters\"},[_c('div',{staticClass:\"cart__item bag-3 bag-md-2 cart__img\"},[_c('img',{attrs:{\"src\":item.product.imageUrl,\"alt\":\"item.product.title\"}})]),_c('div',{staticClass:\"bag-7 bag-md-8 bag-row no-gutters cart__group\"},[_c('div',{staticClass:\"cart__item cart__title bag-md-8\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('div',{staticClass:\"cart__item cart__num bag-md-4\"},[_c('span',{staticClass:\"cart__num__content no-padding\"},[_vm._v(_vm._s(item.qty)+_vm._s(item.product.unit))])])]),_c('div',{staticClass:\"bag cart__item cart__price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.final_total))+\" \")])])}),0),_c('div',{staticClass:\"cart__bottom\"},[_c('div',{staticClass:\"cart__total\"},[(_vm.cart.total !== _vm.cart.final_total)?_c('div',{staticClass:\"cart__total__row\"},[_c('span',{staticClass:\"cart__total__row__title\"},[_vm._v(\"總額：\")]),_c('span',{staticClass:\"cart__total__row__content\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.cart.total)))])]):_vm._e(),(_vm.cart.total !== _vm.cart.final_total)?_c('div',{staticClass:\"cart__total__row\"},[_c('span',{staticClass:\"cart__total__row__title\"},[_vm._v(\"折扣：\")]),_c('span',{staticClass:\"cart__total__row__content text-success\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")((_vm.cart.total - _vm.cart.final_total)))+\" \")])]):_vm._e(),_c('div',{staticClass:\"cart__total__row\"},[_c('span',{staticClass:\"cart__total__row__title\"},[_vm._v(\"應付：\")]),_c('span',{staticClass:\"cart__total__row__content text-danger\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.cart.final_total))+\" \")])])])])]),_vm._m(1),_c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nvar invalid = ref.invalid;\nreturn [_c('div',{staticClass:\"form order\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"bag-md-6 form-group\"},[_c('ValidationProvider',{attrs:{\"name\":\"姓名\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar passed = ref.passed;\nvar errors = ref.errors;\nreturn [_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"姓名 *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.name),expression:\"user.name\"}],staticClass:\"form-control\",class:{ 'is-invalid': failed, 'is-valid': passed },attrs:{\"type\":\"text\",\"id\":\"name\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"name\", $event.target.value)}}}),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"bag-md-6 form-group\"},[_c('ValidationProvider',{attrs:{\"name\":\"手機\",\"rules\":\"required|phone|numberLength\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar passed = ref.passed;\nvar errors = ref.errors;\nreturn [_c('label',{attrs:{\"for\":\"phone\"}},[_vm._v(\"手機 *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.tel),expression:\"user.tel\"}],staticClass:\"form-control\",class:{ 'is-invalid': failed, 'is-valid': passed },attrs:{\"type\":\"tel\",\"id\":\"phone\",\"maxlength\":\"10\",\"placeholder\":\"請輸入手機號碼\"},domProps:{\"value\":(_vm.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"tel\", $event.target.value)}}}),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1)]),_c('div',{staticClass:\"form-group\"},[_c('ValidationProvider',{attrs:{\"name\":\"email\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar passed = ref.passed;\nvar errors = ref.errors;\nreturn [_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"email *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control\",class:{ 'is-invalid': failed, 'is-valid': passed },attrs:{\"type\":\"email\",\"id\":\"email\",\"placeholder\":\"請輸入mail\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}}),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"form-group-wrapper\"},[_c('label',{attrs:{\"for\":\"address\"}},[_vm._v(\"收件人地址 *\")]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"bag-md-3 bag-6 form-group\"},[_c('ValidationProvider',{attrs:{\"name\":\"縣市\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar passed = ref.passed;\nvar errors = ref.errors;\nreturn [_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.city),expression:\"city\"}],staticClass:\"form-control\",class:{ 'is-invalid': failed, 'is-valid': passed },attrs:{\"name\":\"city\",\"id\":\"city\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.city=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"},domProps:{\"value\":null}},[_vm._v(\"請選擇縣市\")]),_vm._l((_vm.postal),function(item){return _c('option',{key:item.name,domProps:{\"value\":item.name}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])})],2),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"bag-md-3 bag-6 form-group\"},[_c('ValidationProvider',{attrs:{\"name\":\"鄉政市區\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar passed = ref.passed;\nvar errors = ref.errors;\nreturn [_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.area),expression:\"area\"}],staticClass:\"form-control\",class:{ 'is-invalid': failed, 'is-valid': passed },attrs:{\"name\":\"area\",\"id\":\"area\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.area=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"},domProps:{\"value\":{}}},[_vm._v(\"請選擇區域\")]),_vm._l((_vm.areaArray),function(item){return _c('option',{key:item.name,domProps:{\"value\":item}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])})],2),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"bag-md-6 form-group\"},[_c('ValidationProvider',{attrs:{\"name\":\"收件人地址\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar failed = ref.failed;\nvar passed = ref.passed;\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addressText),expression:\"addressText\"}],staticClass:\"form-control\",class:{ 'is-invalid': failed, 'is-valid': passed },attrs:{\"type\":\"text\",\"id\":\"address\",\"placeholder\":\"請輸入收件人地址\"},domProps:{\"value\":(_vm.addressText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addressText=$event.target.value}}}),(failed)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1)])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"備註\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"form-control\",attrs:{\"name\":\"comment\",\"id\":\"comment\",\"rows\":\"4\"},domProps:{\"value\":(_vm.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}})])]),_c('div',{staticClass:\"btn-wrapper-side\"},[_c('router-link',{staticClass:\"btn btn-outline-primary\",attrs:{\"to\":\"/check-cart\"}},[_vm._v(\"回購物車\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":invalid},on:{\"click\":function($event){return handleSubmit(_vm.createOrder)}}},[_vm._v(\" 建立訂單 \")])],1)]}}])})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart__head bag-row no-gutters\"},[_c('div',{staticClass:\"cart__item\"},[_vm._v(\"產品\")]),_c('div',{staticClass:\"cart__item\"},[_vm._v(\"數量\")]),_c('div',{staticClass:\"cart__item\"},[_vm._v(\"價格\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-box-end\"},[_c('h2',{staticClass:\"page__title--sm\"},[_vm._v(\"填寫資料\")]),_c('h4',{staticClass:\"text-tip-in-title text-danger\"},[_vm._v(\"* 為必填\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-dialog />\r\n    <h2 class=\"page__title--sm\">商品明細</h2>\r\n    <div class=\"cart no-delete\">\r\n      <div class=\"cart__head bag-row no-gutters\">\r\n        <div class=\"cart__item\">產品</div>\r\n        <div class=\"cart__item\">數量</div>\r\n        <div class=\"cart__item\">價格</div>\r\n      </div>\r\n      <div class=\"cart__list\">\r\n        <div\r\n          class=\"cart__row bag-row no-gutters\"\r\n          v-for=\"item in cart.carts\"\r\n          :key=\"item.id\"\r\n        >\r\n          <div class=\"cart__item bag-3 bag-md-2 cart__img\">\r\n            <img :src=\"item.product.imageUrl\" alt=\"item.product.title\" />\r\n          </div>\r\n          <div class=\"bag-7 bag-md-8 bag-row no-gutters cart__group\">\r\n            <div class=\"cart__item cart__title bag-md-8\">\r\n              {{ item.product.title }}\r\n            </div>\r\n            <div class=\"cart__item cart__num bag-md-4\">\r\n              <span class=\"cart__num__content no-padding\"\r\n                >{{ item.qty }}{{ item.product.unit }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"bag cart__item cart__price\">\r\n            {{ item.final_total | currency }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"cart__bottom\">\r\n        <div class=\"cart__total\">\r\n          <div class=\"cart__total__row\" v-if=\"cart.total !== cart.final_total\">\r\n            <span class=\"cart__total__row__title\">總額：</span>\r\n            <span class=\"cart__total__row__content\">\r\n              {{ cart.total | currency }}</span\r\n            >\r\n          </div>\r\n          <div class=\"cart__total__row\" v-if=\"cart.total !== cart.final_total\">\r\n            <span class=\"cart__total__row__title\">折扣：</span>\r\n            <span class=\"cart__total__row__content text-success\">\r\n              {{ (cart.total - cart.final_total) | currency }}\r\n            </span>\r\n          </div>\r\n          <div class=\"cart__total__row\">\r\n            <span class=\"cart__total__row__title\">應付：</span>\r\n            <span class=\"cart__total__row__content text-danger\">\r\n              {{ cart.final_total | currency }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"flex-box-end\">\r\n    <h2 class=\"page__title--sm\">填寫資料</h2><h4 class=\"text-tip-in-title text-danger\">* 為必填</h4>\r\n    </div>\r\n    <ValidationObserver v-slot=\"{ handleSubmit,invalid }\">\r\n      <div class=\"form order\">\r\n        <div class=\"form-row\">\r\n          <div class=\"bag-md-6 form-group\">\r\n            <ValidationProvider\r\n              name=\"姓名\"\r\n              rules=\"required\"\r\n              v-slot=\"{ failed, passed, errors }\"\r\n            >\r\n              <label for=\"name\">姓名 *</label>\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"user.name\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': failed, 'is-valid': passed }\"\r\n                id=\"name\"\r\n                placeholder=\"請輸入姓名\"\r\n              />\r\n              <span class=\"text-danger\" v-if=\"failed\">{{ errors[0] }}</span>\r\n            </ValidationProvider>\r\n          </div>\r\n          <div class=\"bag-md-6 form-group\">\r\n            <ValidationProvider\r\n              name=\"手機\"\r\n              rules=\"required|phone|numberLength\"\r\n              v-slot=\"{ failed, passed, errors }\"\r\n            >\r\n              <label for=\"phone\">手機 *</label>\r\n              <input\r\n                type=\"tel\"\r\n                v-model=\"user.tel\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': failed, 'is-valid': passed }\"\r\n                id=\"phone\"\r\n                maxlength=\"10\"\r\n                placeholder=\"請輸入手機號碼\"\r\n              />\r\n              <span class=\"text-danger\" v-if=\"failed\">{{ errors[0] }}</span>\r\n            </ValidationProvider>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <ValidationProvider\r\n            name=\"email\"\r\n            rules=\"required|email\"\r\n            v-slot=\"{ failed, passed, errors }\"\r\n          >\r\n            <label for=\"email\">email *</label>\r\n            <input\r\n              type=\"email\"\r\n              v-model=\"user.email\"\r\n              class=\"form-control\"\r\n              :class=\"{ 'is-invalid': failed, 'is-valid': passed }\"\r\n              id=\"email\"\r\n              placeholder=\"請輸入mail\"\r\n            />\r\n            <span class=\"text-danger\" v-if=\"failed\">{{ errors[0] }}</span>\r\n          </ValidationProvider>\r\n        </div>\r\n        <div class=\"form-group-wrapper\">\r\n          <label for=\"address\">收件人地址 *</label>\r\n          <div class=\"form-row\">\r\n            <div class=\"bag-md-3 bag-6 form-group\">\r\n              <ValidationProvider\r\n                name=\"縣市\"\r\n                rules=\"required\"\r\n                v-slot=\"{ failed, passed, errors }\"\r\n              >\r\n                <select\r\n                  class=\"form-control\"\r\n                  :class=\"{ 'is-invalid': failed, 'is-valid': passed }\"\r\n                  name=\"city\"\r\n                  id=\"city\"\r\n                  v-model=\"city\"\r\n                >\r\n                  <option :value=\"null\" selected disabled>請選擇縣市</option>\r\n                  <option\r\n                    :value=\"item.name\"\r\n                    v-for=\"item in postal\"\r\n                    :key=\"item.name\"\r\n                  >\r\n                    {{ item.name }}\r\n                  </option>\r\n                </select>\r\n                <span class=\"text-danger\" v-if=\"failed\">{{ errors[0] }}</span>\r\n              </ValidationProvider>\r\n            </div>\r\n            <div class=\"bag-md-3 bag-6 form-group\">\r\n              <ValidationProvider\r\n                name=\"鄉政市區\"\r\n                rules=\"required\"\r\n                v-slot=\"{ failed, passed, errors }\"\r\n              >\r\n                <select\r\n                  class=\"form-control\"\r\n                  :class=\"{ 'is-invalid': failed, 'is-valid': passed }\"\r\n                  name=\"area\"\r\n                  id=\"area\"\r\n                  v-model=\"area\"\r\n                >\r\n                  <option :value=\"{}\" selected disabled>請選擇區域</option>\r\n                  <option\r\n                    :value=\"item\"\r\n                    v-for=\"item in areaArray\"\r\n                    :key=\"item.name\"\r\n                  >\r\n                    {{ item.name }}\r\n                  </option>\r\n                </select>\r\n                <span class=\"text-danger\" v-if=\"failed\">{{ errors[0] }}</span>\r\n              </ValidationProvider>\r\n            </div>\r\n            <div class=\"bag-md-6 form-group\">\r\n              <ValidationProvider\r\n                name=\"收件人地址\"\r\n                rules=\"required\"\r\n                v-slot=\"{ failed, passed, errors }\"\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"addressText\"\r\n                  class=\"form-control\"\r\n                  :class=\"{ 'is-invalid': failed, 'is-valid': passed }\"\r\n                  id=\"address\"\r\n                  placeholder=\"請輸入收件人地址\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"failed\">{{ errors[0] }}</span>\r\n              </ValidationProvider>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n\r\n            <label for=\"comment\">備註</label>\r\n            <textarea\r\n              class=\"form-control\"\r\n              name=\"comment\"\r\n              v-model=\"message\"\r\n              id=\"comment\"\r\n              rows=\"4\"\r\n            ></textarea>\r\n\r\n        </div>\r\n      </div>\r\n      <div class=\"btn-wrapper-side\">\r\n        <router-link class=\"btn btn-outline-primary\" to=\"/check-cart\"\r\n          >回購物車</router-link\r\n        >\r\n        <button :disabled=\"invalid\" class=\"btn btn-primary\" @click=\"handleSubmit(createOrder)\">\r\n          建立訂單\r\n        </button>\r\n      </div>\r\n    </ValidationObserver>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport postal from '@/assets/postal.json'\r\nexport default {\r\n  data () {\r\n    return {\r\n      user: {},\r\n      postal,\r\n      city: null,\r\n      area: {},\r\n      areaArray: [],\r\n      addressText: '',\r\n      message: ''\r\n    }\r\n  },\r\n  watch: {\r\n    city () {\r\n      const currentArea = postal.find((item) => {\r\n        return item.name === this.city\r\n      })\r\n      this.areaArray = currentArea ? currentArea.children : []\r\n      this.area = {}\r\n    },\r\n    address (val) {\r\n      this.user.address = val\r\n    },\r\n    cart (val) {\r\n      if (val.carts.length === 0) {\r\n        this.$router.go(-1)\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    address () {\r\n      return `${this.area.code} ${this.city} ${this.area.name} ${this.addressText} `\r\n    },\r\n    ...mapGetters('cartModules', ['cart'])\r\n  },\r\n  methods: {\r\n    createOrder () {\r\n      const form = {\r\n        user: this.user,\r\n        message: this.message\r\n      }\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order`\r\n      this.$store.commit('LOADING', true)\r\n      this.$http.post(url, { data: form }).then((response) => {\r\n        if (response.data.success) {\r\n          this.$bus.$emit('message:push', response.data.message)\r\n          this.$router.push({\r\n            name: 'Payment',\r\n            params: {\r\n              id: response.data.orderId\r\n            }\r\n          })\r\n          this.getCart()\r\n        } else {\r\n          this.$bus.$emit('message:push', response.data.message, 'text-danger')\r\n        }\r\n        this.$store.commit('LOADING', false)\r\n      })\r\n    },\r\n    ...mapActions('cartModules', ['getCart'])\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    if (to.name !== 'Payment' && this.cart.carts.length !== 0) {\r\n      this.$modal.show('dialog', {\r\n        text: '您的訂單尚未完成，確定要離開嗎？',\r\n        buttons: [\r\n          {\r\n            title: '取消',\r\n            handler: () => {\r\n              this.$modal.hide('dialog')\r\n              next(false)\r\n            }\r\n          },\r\n          {\r\n            title: '確定',\r\n            handler: () => {\r\n              next()\r\n            }\r\n          }\r\n        ]\r\n      })\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderInfo.vue?vue&type=template&id=5adc2c74&\"\nimport script from \"./OrderInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}